# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a personal portfolio/blog website built with Hugo static site generator, using the PaperMod theme. The site is deployed on Netlify at https://andmecarlos.com/.

## Hugo Configuration

- **Hugo Version**: 0.119.0 (specified in netlify.toml)
- **Theme**: hugo-PaperMod (included as git submodule)
- **Config File**: hugo.yml (YAML format)
- **Base URL**: https://andmecarlos.com/
- **Default Theme**: Dark mode with toggle available
- **Pagination**: Uses `pagination.pagerSize: 10` (updated from deprecated `paginate`)

## Development Commands

### Local Development
```bash
# Run local development server (if hugo is installed globally)
hugo server -D

# Build the site
hugo --gc --minify

# Create new post
hugo new content/Posts/post-name.md
```

### Deployment
The site automatically deploys via Netlify when pushing to the repository. Netlify runs:
```bash
hugo --gc --minify
```

The `public/` directory is the build output (ignored in git, generated by Hugo).

## Content Structure

### Blog Posts
- Location: `content/Posts/`
- Format: Markdown files with YAML frontmatter
- Archetype: Uses custom frontmatter pattern (see `archetypes/default.md`)

### Standard Post Frontmatter
```yaml
---
title: "Post Title"
date: YYYY-MM-DD
showToc: false
TocOpen: false
draft: false
hidemeta: false
comments: false
author: "Carlos Nunez"
searchHidden: false
disableShare: true
---
```

### Special Pages
- About Me: `content/Posts/aboutme.md` - Contains interactive timeline with canvas animations
- Search: `content/Search.md` - Powered by Fuse.js search
- Archives: `content/archives.md`

## Custom Features

### Interactive Diagrams (Mermaid)
Posts use Mermaid diagrams embedded via `{{< rawhtml >}}` shortcode. Example in `Py&Godot.md`:
- Diagrams support dark/light mode with custom CSS
- Click-to-enlarge modal functionality
- Custom styling for diagram visibility in both themes

### Canvas Animations
The About Me page includes:
- Flocking boids animation background using HTML5 Canvas
- Interactive timeline with visual styling
- Custom JavaScript for animation logic

### ASCII Background Animation (Home Page)
The homepage features an animated ASCII art background:
- **Location**: `layouts/partials/ascii-background.html`
- **Integrated via**: `layouts/partials/extend_footer.html`
- **Features**:
  - Fullscreen ASCII grid with radial wave patterns and swirls
  - Mouse-following circular highlight with distinct characters
  - Theme-aware: Light mode uses darker characters, dark mode uses lighter
  - Responsive font sizing for different screen sizes
  - Performance optimized with single DOM write per frame
  - Only loads on home page (`.IsHome` conditional)
- **Character palettes**:
  - Base: Subtle characters for ambient background animation
  - Mouse: Bold characters (█, ▓, ▒, @, #, $, %, &) that appear near cursor
- **Customization**: Edit radius multiplier (currently 0.05 of viewport), animation speed, or character sets in the partial

### Custom Layouts
Custom partials are located in `layouts/partials/`:
- `ascii-background.html` - Home page ASCII animation background
- `extend_footer.html` - Extension point for footer customizations
- `header.html` - Override to fix deprecated Google Analytics templates
- `templates/twitter_cards.html` - Override to fix deprecated `.Site.Social` usage
- `templates/opengraph.html` - Override to fix deprecated `.Site.Social` usage

Theme layouts come from `themes/hugo-PaperMod/layouts/`. Always create overrides in local `layouts/` directory rather than editing theme files directly.

## Site Configuration Notes

- **Profile Mode**: Enabled on homepage with profile picture and navigation buttons
- **Google Analytics**: Configured with ID G-G5LG8WWJXN
- **Menu Items**: Categories, Tags, Search (configured in hugo.yml)
- **Social Links**: Twitter, StackOverflow, GitHub, Instagram
- **Code Features**: Syntax highlighting with copy buttons enabled

## Theme Customization

The site uses hugo-PaperMod theme with customizations:
- Custom label: "> $ cd /Home/"
- Dark theme by default
- ShowReadingTime, ShowCodeCopyButtons, ShowWordCount enabled
- ShowShareButtons, ShowPostNavLinks disabled

## Important Files

- `hugo.yml` - Main site configuration
- `netlify.toml` - Netlify deployment settings and redirects
- `content/Posts/` - All blog posts
- `static/` - Static assets (images, favicon, resume PDF)
- `themes/hugo-PaperMod/` - Theme (git submodule, don't edit directly)

## Working with Posts

When creating or editing posts:
1. Place markdown files in `content/Posts/`
2. Use consistent frontmatter (copy from existing posts)
3. For code blocks, use fenced code with language specifiers
4. For custom HTML/JS, use `{{< rawhtml >}}` shortcode
5. Images go in `static/` and reference with `/image-name.ext`

## Netlify Configuration

Deployment contexts:
- **Production**: `hugo --gc --minify` with HUGO_ENV=production
- **Deploy Preview**: Includes `--buildFuture` flag
- **Branch Deploy**: Standard minified build

Redirect rule: `/npmjs/*` → `/npmjs/` (SPA-style routing)
